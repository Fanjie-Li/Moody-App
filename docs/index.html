<!DOCTYPE html>
<html>
	<head>
		<title>README</title>
		<style type="text/css">
			div {
    				margin: 0px auto;
    				width:880px;
				}
		</style>
	</head>
	<body>
		<div>
		<header>
			<h2>Multi-tasking Test (Version 1.0)</h2>
		</header>
		<p>Last Modified: 25th May 2019</p>
		<nav>
			<ul>
				<li><a href="#usage">Usage</a></li>
				<li><a href="#requirements">Requirements</a></li>
				<li><a href="#setting">Preference Setting</a></li>
				<li><a href="#task">Task Description</a></li>
				<li><a href="#output">Output Description</a></li>
				<li><a href="#design">Behind the Scenes</a></li>
				<li><a href="#creator">Creator</a></li>
				<li><a href="#reference">Reference & Acknowledgement</a></li>
			</ul>
		</nav>
		<article id="usage">
			<h3>❖ Usage</h3>
			<p style="line-height: 130%;"> 
				Please use <i>Terminal</i> to run this program. 
				A Bash script file (i.e., <i>setup_MTT.sh</i>) has been prepared for you to setup the experiment. <br>
				Note that the filepath can be easily obtained via drag & drop the project folder to the Terminal window.
				<h4>Example Usage: </h4>
			</p>
			<p style="color: white; background-color: black; padding: 9px; width: 880px; line-height: 150%; 
			          font-size:80%; font-family: Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New;">
				$ cd "Specify the filepath of the project folder here" <br>
				$ sh setup_MTT.sh
			</p>
		</article>
		<article id="requirements">
			<h3>❖ Requirements</h3>
			<h4>Platform</h4>
			<p style="line-height: 130%;"> 
				This program was primarily designed for and only tested on the <i>Mac OS platform</i> (e.g., auto-set screen height and screen width).<br>
				Minimal modification of source code is needed if you plan to run this program on the Windows platform. <br>
				(See comments in source code for details)
			</p>
			<h4>Python Version & Packages</h4>
			<p style="line-height: 130%;"> 
				Python version: 3.7.0 (Python 3.5 or greater is recommended to run this program) <br>
				Please uncomment the "brew install" command in the bash script if you only have older version. <br>
				<b>>> WHY:</b> Some relatively newer features of Python 3 were used in this implementation:<br> 
				<span style="margin-left: 25px">
					<b>e.g.,</b> z = {**x, **y} syntax for merging dictionary requires Python 3.5 or greater<br></span><br>
				External python packages were specified in <i>requirements.txt</i>. <br>
				A "pip install" command has already been included in the bash script.
			</p>
		</article>
		<article id="setting">
			<h3>❖ Preference Setting</h3>
			<p style="line-height: 130%;"> 
				You can further tailor this tool through preference setting (see setting section / head of the source file).<br>
				This is a brief overview of the available options:
			</p>
			<table border="1px" width="875px">
				<tr>
					<td style="padding: 5px"><b>Options</b></td>
					<td style="padding: 5px"><b>Descriptions</b></td>
					<td style="padding: 5px"><b>Default</b></td>
				</tr>
				<tr>
					<td style="padding: 5px">include_practice</td>
					<td style="padding: 5px">Whether a training session need to be scheduled before the formal session</td>
					<td style="padding: 5px">True</td>
				</tr>
				<tr>
					<td style="padding: 5px">output_path, etc.</td>
					<td style="padding: 5px">You can change the output folder and names of output files.</td>
					<td style="padding: 5px">./outputs/; <br>MTT_log.csv (test results); <br>exp_info_log.csv (miscellaneous info)</td>
				</tr>
				<tr>
					<td style="padding: 5px">display_time<br>(seconds)</td>
					<td style="padding: 5px">
						AKA: the max waiting time of subjects' response<br>
						i.e., the stimulus will disappear following a response or <br>
						following this setted display time in case no response was given
					</td>
					<td style="padding: 5px">3000 ms <=> 3 s</td>
				</tr>
				<tr>
					<td style="padding: 5px">feedback_time<br>(seconds)</td>
					<td style="padding: 5px">
						Duration of feedback message (for missed or incorrect response)<br>
						<b>[A SIDE NOTE]</b> <br>
						if missed: "Time is up"; <br>
						if incorrect: "That was the wrong key"
					</td>
					<td style="padding: 5px">500 ms <=> 0.5 s</td>
				</tr>
				<tr>
					<td style="padding: 5px">blank_time<br>(seconds)</td>
					<td style="padding: 5px">AKA: rest time</td>
					<td style="padding: 5px">500 ms <=> 0.5 s</td>
				</tr>
				<tr>
					<td style="padding: 5px">response_key</td>
					<td style="padding: 5px">- Press which keys to respond.<br>
											 - Designate which key as LEFT KEY & which as RIGHT KEY<br>
											 Normally, researchers use x & m, or left & right, etc.</td>
					<td style="padding: 5px">left & right</td>
				</tr>
				<tr>
					<td style="padding: 5px">continue_key</td>
					<td style="padding: 5px">Press which keys to proceed</td>
					<td style="padding: 5px">space bar</td>
				</tr>
				<tr>
					<td style="padding: 5px">num_trial_prac</td>
					<td style="padding: 5px">Number of trials in each block of practice session</td>
					<td style="padding: 5px">3</td>
				</tr>
				<tr>
					<td style="padding: 5px">num_trial_fml</td>
					<td style="padding: 5px">Number of trials in each block of formal session <br>[!] Should be a multiple of 8</td>
					<td style="padding: 5px">32</td>
				</tr>
			</table>
		</article>
		<article id="task">
			<h3>❖ Task Description</h3>
			<p style="line-height: 130%;"> 
				During the test, participant will see four types of figures presented at different positions. <br>
			    Subjects are asked to respond to the figures according to its shape, filling, and position. <br>
			    (see './img/instructions' folder or run a demo test for details)
			</p>
			<h4>Procedure</h4>
			<table border="1px">
				<tr>
					<td style="padding: 5px" width="140px"><b>Session</b></td>
					<td style="padding: 5px" width="140px"><b>Block</b></td>
					<td style="padding: 5px" width="550px"><b>Description</b></td>
				</tr>
				<tr>
					<td style="padding: 5px" rowspan="3">Practice Session<br>(Optional)</td>
					<td style="padding: 5px">Shape-only Task</td>
					<td style="padding: 5px" >
						All figures will be presented in the <i>top</i> half of the box. <br><br>
						Subject only need to: <br>
						- judge whether it is a <i>diamond</i> (LEFT KEY) or a <i>square</i> (RIGHT KEY); <br>
						- and press the corresponding key to respond.<br><br>
						Default number of trials: 3
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">Filling-only Task</td>
					<td style="padding: 5px">
						All figures will be presented in the <i>bottom</i> half of the box. <br><br>
						Subject only need to: <br>
						- judge whether it has <i>2 dots</i> (LEFT KEY) or <i>3 dots</i> (RIGHT KEY); <br>
						- and press the corresponding key to respond.<br><br>
						Default number of trials: 3
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">Dual Task</td>
					<td style="padding: 5px">
						The figures will be randomly presented in <i>either half of the box</i>. <br><br>
						Subject need to: <br>
						- judge its shape (TOP) or filling (BOTTOM) according to the position. <br>
						- and press the corresponding key to respond.<br><br>
						Default number of trials: 3
					</td>
				</tr>
				<tr>
					<td style="padding: 5px" rowspan="3">Formal Session</td>
					<td style="padding: 5px">Shape-only Task</td>
					<td style="padding: 5px" >
						Default number of trials: 32<br><br>
						i.e, <br>
						4 conditions <= 2 possible shapes * 2 possible fillings<br>
						As for the default trial number, each condition will repeat 8 (<= 32 / 4) times
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">Filling-only Task</td>
					<td style="padding: 5px">
						Default number of trials: 32<br><br>
						i.e, <br>
						4 conditions <= 2 possible shapes * 2 possible fillings<br>
						As for the default trial number, each condition will repeat 8 (<= 32 / 4) times
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">Dual Task</td>
					<td style="padding: 5px">
						Default number of trials: 32<br><br>
						i.e, <br>
						8 conditions <= 2 possible shapes * 2 possible fillings * 2 possible positions<br>
						As for the default trial number, each condition will repeat 4 (<= 32 / 8) times
					</td>
				</tr>
			</table>
		</article>
		<article id="output">
			<h3>❖ Output Description</h3>
			<p style="line-height: 130%;">
				Two output files will be generated by this program (i.e., MTT_log.csv -> test results; exp_info_log.csv -> miscellaneous info).
				<ul>
				<li style="line-height: 130%;">
					The files will be written in <i>* append mode *</i> (i.e., log for each participant will be written to the same file).
				</li>
				<li style="line-height: 130%;">
					Subject ID, session No., block, and the trial No. can be used to identify each record.
				</li>
				<li style="line-height: 130%;">
					The MTT_log file will be updated on a per block basis, while the exp_info_log file will be updated on a per session basis.
				</li>
				<li style="line-height: 130%;">
					The data generated by practice session won't be collected.
				</li>
				</ul>
				Brief description of the MTT_log file:
			</p>
			<table border="1px">
				<tr>
					<td style="padding: 5px" width="115px"><b>Output Fields</b></td>
					<td style="padding: 5px" width="730px"><b>Description</b></td>
				</tr>
				<tr>
					<td style="padding: 5px">subject_id</td>
					<td style="padding: 5px" rowspan="2">For identification purpose. Obtained from a dialogue box popped up at the beginning of each session.</td>
				</tr>
				<tr>
					<td style="padding: 5px">session_no</td>
				</tr>
				<tr>
					<td style="padding: 5px">block</td>
					<td style="padding: 5px">shape_task / filling_task / dual_task</td>
				</tr>
				<tr>
					<td style="padding: 5px">TrialNumber</td>
					<td style="padding: 5px">Trial No. in a block.</td>
				</tr>
				<tr>
					<td style="padding: 5px">Shape</td>
					<td style="padding: 5px">diamond / square</td>
				</tr>
				<tr>
					<td style="padding: 5px">Filling</td>
					<td style="padding: 5px">dots_2 / dots_3</td>
				</tr>
				<tr>
					<td style="padding: 5px">Position</td>
					<td style="padding: 5px">top / bottom</td>
				</tr>
				<tr>
					<td style="padding: 5px">Target</td>
					<td style="padding: 5px">shape / filling (i.e., whether subject need to judge the shape or filling of a figure in a specific trial)</td>
				</tr>
				<tr>
					<td style="padding: 5px">Answer</td>
					<td style="padding: 5px">
						left_key / right_key<br><br>
						Note that the answer here are provided in terms of LEFT KEY or RIGHT KEY:  <br>
						- which means the program will evaluate participants' response properly <br>
						- even if you designate other keys as the left/right key.
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">Congruent</td>
					<td style="padding: 5px">
						1=congruent, 0=incongruent;<br><br>

						<i>congruent stimulus:</i> {diamond (left) + 2 dots (left)}, {square (right) + 3 dots (right)}<br>
						<i>incongruent stimulus:</i> {diamond (left) + 3 dots (right)}, {square (right) + 2 dots (left)}
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">trial_start</td>
					<td style="padding: 5px">The moment the stimuli display; Format: timestamp</td>
				</tr>
				<tr>
					<td style="padding: 5px">resp_time</td>
					<td style="padding: 5px">
						Response time (seconds). => [stimuli display ------- get response]<br>
						N/A if the participant fail to respond within the max waiting time (3s by default)
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">response</td>
					<td style="padding: 5px">
						left / right / no_response<br><br>
						- record which key was pressed; <br>
						- only consider the first key press; <br>
						- response after the max waiting time (display time) will not be accepted <br>
						&nbsp;&nbsp;(and  actually a "Time is up" message will show up if there's no response within the max waiting time);<br>
						- if you set 'x' as left key & 'm' as right key, the left & right in this field will be replaced by x & m
					</td>
				</tr>
				<tr>
					<td style="padding: 5px">accuracy</td>
					<td style="padding: 5px">correct / wrong / missed (in case of no response)</td>
				</tr>
				<tr>
					<td style="padding: 5px">other fields</td>
					<td style="padding: 5px">Automatically generated by the TrialHandler class in the psychopy package. Can be ignored.</td>
				</tr>
			</table>
			<p style="line-height: 130%;">
				Brief description of the exp_info_log file:
				<ul style="line-height: 130%;" >
					<li>Start Info: subject ID, session No.</li>
					<li>Preference Setting: include_practice, timing-related settings, response keys, number of trials, etc. </li>
					<li>Runtime Info: session_start (timestamp), session_end (timestamp)</li>
				</ul>
			</p>
		</article>
		<article id="design"> 
			<h3>❖ Behind the Scenes</h3>
			<h4>Trial Sequencing</h4>
			<p style="line-height: 130%;">
				The trial sequence in each block is generated by the 
				<a href='https://www.psychopy.org/api/data.html'  target="_blank">TrialHandler class</a> 
				in the psychopy package.<br>
				Specifically, the following parameters are used for trial sequencing:
				<ul style="line-height: 130%;">
					<li>trialList: see conditions.xlsx in the project folder</li>
					<li>nReps: Repeat time of each condition. <br>
						By default, for practice session, nReps = 1; 
						for formal session, nReps = num_trial_fml / number of conditions (4 or 8)
					</li>
					<li>method: random. "‘random’ will result in a shuffle of the conditions on each repeat, <br>
						but all conditions occur once before the second repeat" cited from psychopy API
					</li>
				</ul>
			</p>
		</article>
		<article id="creator">
			<h3>❖ Creator</h3>
			<table border="1px">
				<tr>
					<td style="padding: 5px"><b>Team</b></td>
					<td style="padding: 5px"><a href='http://ccmir.cite.hku.hk/'>CCMIR Lab @ HKU</a>&nbsp;(Lab Director: Dr. Xiao Hu)</td>
				</tr>
				<tr>
					<td style="padding: 5px"><b>Major Contributor</b></td>
					<td style="padding: 5px">Li Fanjie</td>
				</tr>
			</table>
		</article>
		<article id="reference">
			<h3>❖ Reference & Acknowledgement</h3>
			<p>Stoet, G., O’Connor, D. B., Conner, M., & Laws, K. R. (2013). <a href='https://doi.org/10.1186/2050-7283-1-18' target="_blank">Are women better than men at multi-tasking?</a>. BMC Psychology, 1(1), 18.</p>
		</article>
	</div>
	</body>
</html>
